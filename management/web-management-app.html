<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Management Application</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1, h2 {
            color: #333;
        }
        button {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 4px;
        }
        button:hover {
            background-color: #45a049;
        }
        .menu {
            display: none;
        }
        .active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Management Application</h1>
        <div id="mainMenu" class="menu active">
            <h2>Main Menu</h2>
            <button onclick="showMenu('sshMenu')">SSH and Docker Management</button>
            <button onclick="showMenu('gitMenu')">Git Management</button>
        </div>
        <div id="sshMenu" class="menu">
            <h2>SSH Options Menu</h2>
            <button onclick="showMenu('connectionMenu')">Connection</button>
            <button onclick="showMenu('scriptsMenu')">Scripts</button>
            <button onclick="showMenu('rsyncMenu')">Rsync</button>
            <button onclick="showMenu('mainMenu')">Back to Main Menu</button>
        </div>
        <div id="connectionMenu" class="menu">
            <h2>SSH Server Connection Menu</h2>
            <div id="serverList"></div>
            <button onclick="showMenu('sshMenu')">Back to SSH Options</button>
        </div>
        <div id="scriptsMenu" class="menu">
            <h2>SSH Scripts Menu</h2>
            <div id="scriptList"></div>
            <button onclick="showMenu('sshMenu')">Back to SSH Options</button>
        </div>
        <div id="rsyncMenu" class="menu">
            <h2>Rsync File Transfer Menu</h2>
            <button onclick="showRsyncServers('to')">Copy files to remote server</button>
            <button onclick="showRsyncServers('from')">Copy files from remote server</button>
            <button onclick="showMenu('sshMenu')">Back to SSH Options</button>
        </div>
        <div id="rsyncServerList" class="menu">
            <h2>Select Rsync Server</h2>
            <div id="rsyncServers"></div>
            <button onclick="showMenu('rsyncMenu')">Back to Rsync Menu</button>
        </div>
        <div id="gitMenu" class="menu">
            <h2>Git Management</h2>
            <button onclick="showMenu('personalRepoMenu')">Personal Repository</button>
            <button onclick="showMenu('workRepoMenu')">Work Repository</button>
            <button onclick="showMenu('mainMenu')">Back to Main Menu</button>
        </div>
        <div id="personalRepoMenu" class="menu">
            <h2>Personal Repository</h2>
            <button onclick="alert('Performing Git operations on dotfiles...')">dotfiles</button>
            <button onclick="alert('Performing Git operations on scripts...')">scripts</button>
            <button onclick="alert('Performing Git operations on wallpapers...')">wallpapers</button>
            <button onclick="showMenu('gitMenu')">Back to Git Menu</button>
        </div>
        <div id="workRepoMenu" class="menu">
            <h2>Work Repository</h2>
            <button onclick="alert('Performing Git operations on local work repo...')">Local</button>
            <button onclick="alert('Performing Git operations on remote work repo...')">Remote</button>
            <button onclick="showMenu('gitMenu')">Back to Git Menu</button>
        </div>
    </div>

    <script>
        // Embedded JSON configurations
        const sshDockerConfig = {
            "servers": {
                "1": {
                    "name": "SFTP",
                    "user": "digit",
                    "host": "172.20.96.22",
                    "type": "linux"
                },
                "2": {
                    "name": "Server 2",
                    "user": "user2",
                    "host": "host2.example.com",
                    "type": "docker"
                }
            },
            "docker_containers": {
                "host2.example.com": {
                    "1": {"name": "container1"},
                    "2": {"name": "container2"}
                }
            }
        };

        const rsyncConfig = {
            "rsync_servers": [
                {
                    "name": "Rsync Server 1",
                    "host": "rsync1.example.com",
                    "user": "rsync_user1"
                },
                {
                    "name": "Rsync Server 2",
                    "host": "rsync2.example.com",
                    "user": "rsync_user2"
                }
            ]
        };

        function showMenu(menuId) {
            document.querySelectorAll('.menu').forEach(menu => menu.classList.remove('active'));
            document.getElementById(menuId).classList.add('active');

            if (menuId === 'connectionMenu') {
                populateServerList();
            } else if (menuId === 'scriptsMenu') {
                populateScriptList();
            }
        }

        function populateServerList() {
            const serverList = document.getElementById('serverList');
            serverList.innerHTML = '';
            for (const [key, server] of Object.entries(sshDockerConfig.servers)) {
                const button = document.createElement('button');
                button.textContent = `${server.name} (${server.user}@${server.host})`;
                button.onclick = () => {
                    if (server.type === "docker") {
                        showDockerContainers(server.host);
                    } else {
                        alert(`Connecting to ${server.user}@${server.host}...`);
                    }
                };
                serverList.appendChild(button);
            }
        }

        function showDockerContainers(host) {
            const serverList = document.getElementById('serverList');
            serverList.innerHTML = '<h3>Docker Containers:</h3>';
            const containers = sshDockerConfig.docker_containers[host];
            for (const [key, container] of Object.entries(containers)) {
                const button = document.createElement('button');
                button.textContent = container.name;
                button.onclick = () => alert(`Connecting to Docker container ${container.name}...`);
                serverList.appendChild(button);
            }
            const backButton = document.createElement('button');
            backButton.textContent = "Back to Server List";
            backButton.onclick = populateServerList;
            serverList.appendChild(backButton);
        }

        function populateScriptList() {
            const scriptList = document.getElementById('scriptList');
            scriptList.innerHTML = '<p>No scripts configured. Add script paths to sshDockerConfig to see them here.</p>';
        }

        function showRsyncServers(direction) {
            const rsyncServers = document.getElementById('rsyncServers');
            rsyncServers.innerHTML = '';
            rsyncConfig.rsync_servers.forEach((server, index) => {
                const button = document.createElement('button');
                button.textContent = server.name;
                button.onclick = () => alert(`${direction === 'to' ? 'Copying to' : 'Copying from'} ${server.user}@${server.host}...`);
                rsyncServers.appendChild(button);
            });
            showMenu('rsyncServerList');
        }
    </script>
</body>
</html>
